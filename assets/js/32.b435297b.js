(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{385:function(t,s,n){"use strict";n.r(s);var a=n(25),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"using-existing-bitcoin-data"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-existing-bitcoin-data"}},[t._v("#")]),t._v(" Using Existing Bitcoin Data")]),t._v(" "),n("p",[t._v("In some cases, you may want to use Bitcoin data from a different node to get MyNode up and running faster or to save bandwidth. If you have another node that is already synced, you can copy that data to your MyNode.")]),t._v(" "),n("p",[t._v("There are 2 methods, either reuse existing Bitcoin blockchain data from another MyNode instance or copy it from an external hard drive.")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#using-bitcoin-data-from-other-mynode"}},[t._v("From Another Operational MyNode Device")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#using-bitcoin-data-from-other-hard-drive"}},[t._v("From a Saved Blockchain Copy on Another Drive")])])]),t._v(" "),n("h2",{attrs:{id:"using-bitcoin-data-from-other-mynode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-bitcoin-data-from-other-mynode"}},[t._v("#")]),t._v(" Using Bitcoin Data from Other MyNode")]),t._v(" "),n("p",[t._v("This process assumes you have two nodes up and running. You will copy data from one node with the fully-synced blockchain to another.")]),t._v(" "),n("h3",{attrs:{id:"step-1-start-mynode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-1-start-mynode"}},[t._v("#")]),t._v(" Step 1 - Start MyNode")]),t._v(" "),n("p",[t._v("Start both devices. We will refer to them as the source node and the destination node. The source node currently has a copy of the chain data and the destination node is the one receiving the chain data.")]),t._v(" "),n("h3",{attrs:{id:"step-2-copy-data"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-2-copy-data"}},[t._v("#")]),t._v(" Step 2 - Copy Data")]),t._v(" "),n("p",[t._v("Next, you need to log into both of your devices via SSH to copy data from the source node to the destination node.")]),t._v(" "),n("p",[t._v('On the node with the source data, ensure the bitcoin block data is readable by the "admin" user. Also, make sure that Bitcoin is not running. Run the following commands on each device.')]),t._v(" "),n("p",[n("strong",[t._v("On source node:")]),t._v(" "),n("br"),n("sub",[n("sup",[t._v("Steps may differ if source is not MyNode device")])])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Stop Bitcoin and other services")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" /usr/bin/mynode_stop_critical_services.sh\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Make sure block data is readable by the admin user")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/hdd/mynode/bitcoin/blocks\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/hdd/mynode/bitcoin/chainstate\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/hdd/mynode/bitcoin/indexes\n")])])]),n("p",[n("strong",[t._v("On destination node:")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Stop Bitcoin and other services")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" /usr/bin/mynode_stop_critical_services.sh\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Make sure old data is removed")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/blocks\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/chainstate\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/indexes\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Copy the blocks and chainstate folders from your existing node to /mnt/hdd/mynode/bitcoin/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For example (fill in with your own IP and path):")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -aP admin@othernode.local:/mnt/hdd/mynode/bitcoin/blocks /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -aP admin@othernode.local:/mnt/hdd/mynode/bitcoin/chainstate /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -aP admin@othernode.local:/mnt/hdd/mynode/bitcoin/indexes /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R bitcoin:bitcoin /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reboot")]),t._v("\n")])])]),n("p",[t._v("This will copy files from your remote node to your local node. After rebooting, your device will sync from the same state as your other node.")]),t._v(" "),n("h2",{attrs:{id:"using-bitcoin-data-from-other-hard-drive"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-bitcoin-data-from-other-hard-drive"}},[t._v("#")]),t._v(" Using Bitcoin Data from Other Hard drive")]),t._v(" "),n("p",[t._v("This process assumes you have one node that is running and a copy of the chain data on an existing hard drive.")]),t._v(" "),n("h3",{attrs:{id:"step-1-install-start-mynode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-1-install-start-mynode"}},[t._v("#")]),t._v(" Step 1 - Install & Start MyNode")]),t._v(" "),n("p",[t._v("Start with "),n("a",{attrs:{href:"https://mynodebtc.com/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("MyNode standard installation"),n("OutboundLink")],1),t._v(" and then "),n("a",{attrs:{href:"https://mynodebtc.github.io/intro/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Getting started guide"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"step-2-stop-the-bitcoin-syncing"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-2-stop-the-bitcoin-syncing"}},[t._v("#")]),t._v(" Step 2 - Stop The Bitcoin Syncing")]),t._v(" "),n("p",[t._v("As soon as the Bitcoin Blockchain syncing process has started, the web interface will displays "),n("code",[t._v('"Bitcoin Blockchain Syncing..."')]),t._v(".")]),t._v(" "),n("p",[t._v('At this point, "stop" the syncing:')]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" admin@mynode.local\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" /usr/bin/mynode_stop_critical_services.sh\n")])])]),n("h3",{attrs:{id:"step-3-remove-old-data"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-3-remove-old-data"}},[t._v("#")]),t._v(" Step 3 - Remove Old Data")]),t._v(" "),n("p",[t._v("Remove any data that the syncing process has completed before you stopped the process.")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" admin@mynode.local\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/blocks\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/chainstate\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /mnt/hdd/mynode/bitcoin/indexes\n")])])]),n("h3",{attrs:{id:"step-4-copy-existing-blockchain"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step-4-copy-existing-blockchain"}},[t._v("#")]),t._v(" Step 4 - Copy Existing Blockchain")]),t._v(" "),n("ol",[n("li",[t._v("Connect a second hard drive (which has a copy of the blockchain) to your node")]),t._v(" "),n("li",[t._v("SSH into your node")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" admin@mynode.local\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("Mount the second drive to some path")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /mnt/blockchain_hdd\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" -t auto /dev/sda"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("X"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /mnt/blockchain_hdd\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("Set access-levels...")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/blocks\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/chainstate\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/indexes\n")])])]),n("ol",{attrs:{start:"5"}},[n("li",[t._v("Copy the existing blockchain from the other drive to MyNode's drive")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -r /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/blocks /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -r /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/chainstate /mnt/hdd/mynode/bitcoin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -r /mnt/blockchain_hdd/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/bitcoin/indexes /mnt/hdd/mynode/bitcoin/\n")])])]),n("ol",{attrs:{start:"6"}},[n("li",[t._v("Change group access...")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R bitcoin:bitcoin /mnt/hdd/mynode/bitcoin/\n")])])]),n("ol",{attrs:{start:"7"}},[n("li",[t._v("Reboot the node")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reboot")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);